<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>MockUp (JMockit Toolkit API)</title>
<link rel="stylesheet" type="text/css" href="../stylesheet.css" title="Style">
<link rel="shortcut icon" type="image/x-icon" href="../resources/favicon.ico">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="MockUp (JMockit Toolkit API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
</ul>
<div class="aboutLanguage"><em><a href=http://jmockit.org target=_top><img src=resources/logo.png>JMockit Home</a></em></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../mockit/Mocked.html" title="annotation in mockit"><span class="strong">Prev Class</span></a></li>
<li><a href="../mockit/NonStrictExpectations.html" title="class in mockit"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?mockit/MockUp.html" target="_top">Frames</a></li>
<li><a href="MockUp.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">mockit</div>
<h2 title="Class MockUp" class="title">Class MockUp&lt;T&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>mockit.MockUp&lt;T&gt;</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl><dt><span class="strong">Type Parameters:</span></dt><dd><code>T</code> - specifies the type (class, interface, etc.) to be mocked; multiple interfaces can be mocked by defining
 a <em>type variable</em> in the test class or test method, and using it as the type argument;
 if a type variable is used but it extends a single type, then all implementation classes extending/implementing that
 base type are also mocked;
 if the type argument itself is a parameterized type, then only its raw type is considered for mocking</dd></dl>
<hr>
<br>
<pre>public abstract class <span class="strong">MockUp&lt;T&gt;</span>
extends <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">A base class used in the creation of a <em>mock-up</em> for a class or interface.
 Such mock-ups can be used in <em>state-based</em> unit tests or as <em>fake</em> implementations for use in
 integration tests.
 <pre>

 // Define and apply one or more mock-ups.
 new MockUp&lt;<strong>SomeClass</strong>>() {
    &#64;Mock int someMethod(int i) { assertTrue(i > 0); return 123; }
    &#64;Mock(maxInvocations = 2) void anotherMethod(int i, String s) { &#47;* validate arguments *&#47; }
 };

 // Exercise code under test.
 codeUnderTest.doSomething();
 </pre>
 One or more <em>mock methods</em> annotated <a href="../mockit/Mock.html" title="annotation in mockit">as such</a> must be defined in the concrete subclass.
 Each <code>@Mock</code> method should have a matching method or constructor in the mocked class/interface.
 At runtime, the execution of a mocked method/constructor will get redirected to the corresponding mock method.
 <p/>
 When the type to be mocked is specified indirectly through a <a href="http://download.oracle.com/javase/7/docs/api/java/lang/reflect/TypeVariable.html?is-external=true" title="class or interface in java.lang.reflect">type variable</a>, there are two
 other possible outcomes:
 <ol>
 <li>If the type variable "<code>extends</code>" two or more interfaces, a mocked proxy class that implements all
 interfaces is created, with the proxy instance made available through a call to <a href="../mockit/MockUp.html#getMockInstance()"><code>getMockInstance()</code></a>.
 Example:
 <pre>

 &#64;Test
 public &lt;<strong>M extends Runnable & ResultSet</strong>> void someTest() {
     M mock = new MockUp&lt;<strong>M</strong>>() {
        &#64;Mock void run() { ...do something... }
        &#64;Mock boolean next() { return true; }
     }.getMockInstance();

     mock.run();
     assertTrue(mock.next());
 }
 </pre>
 </li>
 <li>If the type variable extends a <em>single</em> type (either an interface or a class), then that type is taken
 as a <em>base</em> type whose concrete implementation classes should <em>also</em> get mocked.
 Example:
 <pre>

 &#64;Test
 public &lt;<strong>BC extends SomeBaseClass</strong>> void someTest() {
     new MockUp&lt;<strong>BC</strong>>() {
        &#64;Mock int someMethod(int i) { return i + 1; }
     };

     int i = new AConcreteSubclass().someMethod(1);
     assertEquals(2, i);
 }
 </pre>
 </li>
 </ol></div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../mockit/MockUp.html#MockUp()"><code>MockUp()</code></a>, 
<a href="../mockit/MockUp.html#MockUp(java.lang.Class)"><code>MockUp(Class)</code></a>, 
<a href="../mockit/MockUp.html#getMockInstance()"><code>getMockInstance()</code></a>, 
<a href="../mockit/MockUp.html#tearDown()"><code>tearDown()</code></a>, 
<a href="http://jmockit.googlecode.com/svn/trunk/www/tutorial/StateBasedTesting.html#setUp">Tutorial</a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colLast" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><strong><a href="../mockit/MockUp.html#MockUp()">MockUp</a></strong>()</code>
<div class="block">Applies the <a href="../mockit/Mock.html" title="annotation in mockit">mock methods</a> defined in the concrete subclass to the class or interface specified
 through the type parameter.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><strong><a href="../mockit/MockUp.html#MockUp(java.lang.Class)">MockUp</a></strong>(<a href="http://download.oracle.com/javase/7/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;?&gt;&nbsp;classToMock)</code>
<div class="block">Applies the <a href="../mockit/Mock.html" title="annotation in mockit">mock methods</a> defined in the concrete subclass to the given class/interface.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../mockit/MockUp.html" title="type parameter in MockUp">T</a></code></td>
<td class="colLast"><code><strong><a href="../mockit/MockUp.html#getMockInstance()">getMockInstance</a></strong>()</code>
<div class="block">Returns the mock instance created for the mocked interface(s), or <code>null</code> if a class was specified to be
 mocked instead.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../mockit/MockUp.html#tearDown()">tearDown</a></strong>()</code>
<div class="block">Discards the mock methods originally set up by instantiating this mock-up object, restoring mocked methods to
 their original behaviors.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://download.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="MockUp()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MockUp</h4>
<pre>protected&nbsp;MockUp()</pre>
<div class="block">Applies the <a href="../mockit/Mock.html" title="annotation in mockit">mock methods</a> defined in the concrete subclass to the class or interface specified
 through the type parameter.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://download.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if no type to be mocked was specified;
 or if multiple types were specified through a type variable but not all of them are interfaces;
 or if there is a mock method for which no corresponding real method or constructor is found;
 or if the real method matching a mock method is <code>abstract</code></dd><dt><span class="strong">See Also:</span></dt><dd><a href="../mockit/MockUp.html#MockUp(java.lang.Class)"><code>MockUp(Class)</code></a></dd></dl>
</li>
</ul>
<a name="MockUp(java.lang.Class)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>MockUp</h4>
<pre>protected&nbsp;MockUp(<a href="http://download.oracle.com/javase/7/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;?&gt;&nbsp;classToMock)</pre>
<div class="block">Applies the <a href="../mockit/Mock.html" title="annotation in mockit">mock methods</a> defined in the concrete subclass to the given class/interface.
 <p/>
 In most cases, the constructor with no parameters can be used. This variation should be used only when the type
 to be mocked is not accessible or known to the test.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../mockit/MockUp.html#MockUp()"><code>MockUp()</code></a></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getMockInstance()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMockInstance</h4>
<pre>public final&nbsp;<a href="../mockit/MockUp.html" title="type parameter in MockUp">T</a>&nbsp;getMockInstance()</pre>
<div class="block">Returns the mock instance created for the mocked interface(s), or <code>null</code> if a class was specified to be
 mocked instead.
 This mock instance belongs to a dynamically generated class which implements the mocked interface(s).
 <p/>
 For a given mock-up instance, this method always returns the same mock instance.
 <p/>
 All methods in the generated implementation class are empty, with non-void methods returning a default value
 according to the return type: 0 for <code>int</code>, null for a reference type, and so on.
 <p/>
 The <code>equals</code>, <code>hashCode</code>, and <code>toString</code> methods inherited from <code>java.lang.Object</code> are
 overridden with an appropriate implementation in each case:
 <code>equals</code> is implemented by comparing the two object references (the mock instance and the method argument)
 for equality; <code>hashCode</code> is implemented to return the identity hash code for the mock instance; and
 <code>toString</code> returns the standard string representation that <code>Object#toString</code> would have returned.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="http://jmockit.googlecode.com/svn/trunk/www/tutorial/StateBasedTesting.html#interfaces">Tutorial</a></dd></dl>
</li>
</ul>
<a name="tearDown()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>tearDown</h4>
<pre>public final&nbsp;void&nbsp;tearDown()</pre>
<div class="block">Discards the mock methods originally set up by instantiating this mock-up object, restoring mocked methods to
 their original behaviors.
 <p/>
 JMockit will automatically restore classes mocked by a test at the end of its execution, as well as classes
 mocked for the whole test class before the first test in the next test class is executed.
 Therefore, this method should rarely be used, if ever.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
</ul>
<div class="aboutLanguage"><em><a href=http://jmockit.org target=_top><img src=resources/logo.png>JMockit Home</a></em></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../mockit/Mocked.html" title="annotation in mockit"><span class="strong">Prev Class</span></a></li>
<li><a href="../mockit/NonStrictExpectations.html" title="class in mockit"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?mockit/MockUp.html" target="_top">Frames</a></li>
<li><a href="MockUp.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
